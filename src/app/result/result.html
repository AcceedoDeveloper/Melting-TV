<div *ngIf="!selectedResult && rawData.length > 0">
  <div class="page-container" *ngFor="let item of rawData">
    <header class="top-nav">
      <div class="nav-left">
        <h2>{{ item.furnaceName }}</h2>
      </div>
    </header>

    <div class="process-timeline">
      <div class="base-line"></div>

      <div class="step-item">
        <div class="node">
          <div class="step-num">1</div>
          <div class="icon-circle border-green">
            <img src="assets/icon5.png" class="step-icon" />
          </div>
        </div>
        <div class="time-badge">ðŸ•’ 2m</div>
        <div class="content-card top-green">
          <h4>Started</h4>
          <p class="info">
            Date: {{ item.stages[0].createdAt | date: "yyyy-MM-dd" }}
          </p>
          <p class="info">
            Time: {{ item?.stages?.[0]?.createdAt | date: "hh:mm a" }}
          </p>
          <div class="status approved">
            <i data-lucide="check" size="12"></i> APPROVED
          </div>
        </div>
      </div>

      <div class="step-item">
        <div class="node">
          <div class="step-num">2</div>
          <div class="icon-circle border-blue">
            <img src="assets/icon6.png" class="step-icon" />
          </div>
        </div>
        <div class="time-badge">ðŸ•’ 2m</div>
        <div class="content-card top-blue">
          <h4>RM Quality Acceptance</h4>
          <p class="info">
            Date: {{ item.stages[0].createdAt | date: "yyyy-MM-dd" }}
          </p>
          <p class="info">
            Time: {{ item?.stages?.[0]?.createdAt | date: "hh:mm a" }}
          </p>
          <div class="status approved">
            <i data-lucide="check" size="12"></i> APPROVED
          </div>
        </div>
      </div>

     

      <div class="step-item">
        <div class="node">
          <div class="step-num">3</div>
          <div class="icon-circle border-teal">
            <img src="assets/icon1.png" class="step-icon" />
          </div>
        </div>

        <div class="time-badge">
          ðŸ•’
          {{ getStageDate(item, 2) ? "2m" : "--" }}
        </div>

        <div class="content-card top-teal">
          <h4>Charge Mix</h4>

          <p class="info">
            Date:
            {{
              getStageDate(item, 2)
                ? (getStageDate(item, 2) | date: "yyyy-MM-dd")
                : "-"
            }}
          </p>

          <p class="info">
            Time:
            {{
              getStageDate(item, 2)
                ? (getStageDate(item, 2) | date: "hh:mm a")
                : "-"
            }}
          </p>

          <div class="status auto" *ngIf="getStageDate(item, 2); else pending">
            AUTO
          </div>

          <ng-template #pending>
            <div class="status pending">WAITING</div>
          </ng-template>
        </div>
      </div>

      <div class="step-item">
        <div class="node">
          <div class="step-num">{{ item.stages.length }}</div>
          <div class="icon-circle border-orange">
            <img src="assets/icon3.png" class="step-icon" />
          </div>
        </div>
        <div class="time-badge">ðŸ•’ --</div>
        <div class="content-card top-orange">
          <h4>AI Chemistry Correction</h4>
          <p class="info" style="opacity: 0;" >Date: 23/10/25</p>
          <p class="info" style="opacity: 0;"  >Time: 3:30 pm</p>
          <div class="status stage">
            <span class="i-icon">i</span> Waiting
          </div>
        </div>
      </div>

      <div class="step-item">
        <div class="node">
          <div class="step-num">7</div>
          <div class="icon-circle border-red">
            <img src="assets/icon2.png" class="step-icon" />
          </div>
        </div>
        <div class="content-card final-blue">
          <h4>Final BM Validation</h4>
          <p class="sub-text">Binary OK/NOT OK decision.</p>
          <div class="status completed">
            <i data-lucide="check" size="12"></i> Completed
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="rawData.length === 0">
  <div *ngIf="rawData.length === 0">
    <div class="dashboard-container2">
      <header class="main-header">
        <br />
        <h1>Element Graph View</h1>
        <div class="row">
          <!-- <p class="subtitle">Customer: SandFits</p>
            <p class="subtitle">Product: Steel</p> -->
          <span class="left-text">Customer: SandFits</span>
          <span class="right-text">Product: Steel And Iron</span>
        </div>
      </header>
      <div class="page-center-wrapper">
        <div class="charts-grid">
          <div class="card2 theme-cyan">
            <div class="card-header">
              <span class="element-symbol">Mo</span>
              <span class="element-value">3%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">1%</text>
                  <text x="25" y="75" class="y-label">2%</text>
                  <text x="25" y="50" class="y-label">3%</text>
                  <text x="25" y="20" class="y-label">4%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,120 80,100 120,90 160,80 200,65 240,55 280,45"
                  class="data-line"
                />

                <circle cx="40" cy="120" r="4" class="data-point" />
                <circle cx="80" cy="100" r="4" class="data-point" />
                <circle cx="120" cy="90" r="4" class="data-point" />
                <circle cx="160" cy="80" r="4" class="data-point" />
                <circle cx="200" cy="65" r="4" class="data-point" />
                <circle cx="240" cy="55" r="4" class="data-point" />
                <circle cx="280" cy="45" r="4" class="data-point" />
              </svg>
            </div>
          </div>

          <div class="card2 theme-yellow">
            <div class="card-header">
              <span class="element-symbol">P</span>
              <span class="element-value">3.5%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">2%</text>
                  <text x="25" y="75" class="y-label">3%</text>
                  <text x="25" y="50" class="y-label">4%</text>
                  <text x="25" y="20" class="y-label">5%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,35 150,110 190,95 220,80 290,60"
                  class="data-line"
                />
                <circle cx="40" cy="35" r="4" class="data-point" />
                <circle cx="150" cy="110" r="4" class="data-point" />
                <circle cx="190" cy="95" r="4" class="data-point" />
                <circle cx="220" cy="80" r="4" class="data-point" />
                <circle cx="290" cy="60" r="4" class="data-point" />
              </svg>
            </div>
          </div>

          <div class="card2 theme-red">
            <div class="card-header">
              <span class="element-symbol">Sn</span>
              <span class="element-value">3.8%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">3%</text>
                  <text x="25" y="75" class="y-label">4%</text>
                  <text x="25" y="50" class="y-label">5%</text>
                  <text x="25" y="20" class="y-label">6%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,70 150,90 190,90 220,85 290,80"
                  class="data-line"
                />
                <circle cx="40" cy="70" r="4" class="data-point" />
                <circle cx="150" cy="90" r="4" class="data-point" />
                <circle cx="190" cy="90" r="4" class="data-point" />
                <circle cx="220" cy="85" r="4" class="data-point" />
                <circle cx="290" cy="80" r="4" class="data-point" />
              </svg>
            </div>
          </div>

          <div class="card2 theme-cyan">
            <div class="card-header">
              <span class="element-symbol">Cr</span>
              <span class="element-value">1.2%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">1%</text>
                  <text x="25" y="75" class="y-label">2%</text>
                  <text x="25" y="50" class="y-label">3%</text>
                  <text x="25" y="20" class="y-label">4%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,100 150,120 190,130 220,110 290,90"
                  class="data-line"
                />
                <circle cx="40" cy="100" r="4" class="data-point" />
                <circle cx="150" cy="120" r="4" class="data-point" />
                <circle cx="190" cy="130" r="4" class="data-point" />
                <circle cx="220" cy="110" r="4" class="data-point" />
                <circle cx="290" cy="90" r="4" class="data-point" />
              </svg>
            </div>
          </div>

          <div class="card2 theme-yellow">
            <div class="card-header">
              <span class="element-symbol">Si</span>
              <span class="element-value">0.2%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">5%</text>
                  <text x="25" y="75" class="y-label">6%</text>
                  <text x="25" y="50" class="y-label">7%</text>
                  <text x="25" y="20" class="y-label">8%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,120 150,70 190,50 220,85 290,120"
                  class="data-line"
                />
                <circle cx="40" cy="120" r="4" class="data-point" />
                <circle cx="150" cy="70" r="4" class="data-point" />
                <circle cx="190" cy="50" r="4" class="data-point" />
                <circle cx="220" cy="85" r="4" class="data-point" />
                <circle cx="290" cy="120" r="4" class="data-point" />
              </svg>
            </div>
          </div>

          <div class="card2 theme-red">
            <div class="card-header">
              <span class="element-symbol">Cr</span>
              <span class="element-value">8.1%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">6%</text>
                  <text x="25" y="75" class="y-label">7%</text>
                  <text x="25" y="50" class="y-label">8%</text>
                  <text x="25" y="20" class="y-label">9%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,70 150,125 190,120 220,70 290,40"
                  class="data-line"
                />
                <circle cx="40" cy="70" r="4" class="data-point" />
                <circle cx="150" cy="125" r="4" class="data-point" />
                <circle cx="190" cy="120" r="4" class="data-point" />
                <circle cx="220" cy="70" r="4" class="data-point" />
                <circle cx="290" cy="40" r="4" class="data-point" />
              </svg>
            </div>
          </div>

          <div class="card2 theme-cyan">
            <div class="card-header">
              <span class="element-symbol">Cr</span>
              <span class="element-value">0%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">1%</text>
                  <text x="25" y="75" class="y-label">2%</text>
                  <text x="25" y="50" class="y-label">3%</text>
                  <text x="25" y="20" class="y-label">4%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,40 150,60 190,80 220,100 290,125"
                  class="data-line"
                />
                <circle cx="40" cy="40" r="4" class="data-point" />
                <circle cx="150" cy="60" r="4" class="data-point" />
                <circle cx="190" cy="80" r="4" class="data-point" />
                <circle cx="220" cy="100" r="4" class="data-point" />
                <circle cx="290" cy="125" r="4" class="data-point" />
              </svg>
            </div>
          </div>

          <div class="card2 theme-yellow">
            <div class="card-header">
              <span class="element-symbol">Mn</span>
              <span class="element-value">3%</span>
            </div>
            <div class="chart-container">
              <svg viewBox="0 0 320 160" xmlns="http://www.w3.org/2000/svg">
                <g class="grid">
                  <line x1="30" y1="15" x2="30" y2="130" class="grid-line" />

                  <line x1="30" y1="100" x2="310" y2="100" class="grid-line" />
                  <line x1="30" y1="130" x2="310" y2="130" class="grid-line" />
                  <line x1="30" y1="70" x2="310" y2="70" class="grid-line" />
                  <line x1="30" y1="45" x2="310" y2="45" class="grid-line" />
                  <line x1="30" y1="15" x2="310" y2="15" class="grid-line" />

                  <text x="25" y="135" class="y-label">0</text>
                  <text x="25" y="100" class="y-label">3%</text>
                  <text x="25" y="75" class="y-label">4%</text>
                  <text x="25" y="50" class="y-label">5%</text>
                  <text x="25" y="20" class="y-label">6%</text>

                  <text x="40" y="155" class="x-label">SA</text>
                  <text x="80" y="155" class="x-label">S</text>
                  <text x="120" y="155" class="x-label">M</text>
                  <text x="160" y="155" class="x-label">T</text>
                  <text x="200" y="155" class="x-label">W</text>
                  <text x="240" y="155" class="x-label">TH</text>
                  <text x="280" y="155" class="x-label">F</text>
                </g>
                <polyline
                  points="40,25 150,70 190,110 220,60 290,100"
                  class="data-line"
                />
                <circle cx="40" cy="25" r="4" class="data-point" />
                <circle cx="150" cy="70" r="4" class="data-point" />
                <circle cx="190" cy="110" r="4" class="data-point" />
                <circle cx="220" cy="60" r="4" class="data-point" />
                <circle cx="290" cy="100" r="4" class="data-point" />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
